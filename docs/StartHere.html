<!doctype html><html lang="en"><meta charset="utf-8"><title>StartHere</title><style>body{font-family:system-ui,Segoe UI,Arial,sans-serif;margin:2rem;line-height:1.6;max-width:980px} pre,code{background:#f6f8fa;padding:.2rem .4rem;border-radius:4px}</style><body><h1 id="start-here">Start Here</h1>
<p>Quick path to solving tall-skinny least-squares with RCFD-PCG, reproducibly.</p>
<h2 id="install">Install</h2>
<p><code>bash
pip install rcfd-pcg</code></p>
<h2 id="solve-cli-json-first">Solve (CLI, JSON-first)</h2>
<p>```powershell</p>
<h1 id="windows-friendly-json-output">Windows-friendly JSON output</h1>
<p>rcfd-pcg --n 20000 --d 200 --sparse --eps 0.15 --tol 1e-6 --json
```</p>
<h3 id="essentials">Essentials</h3>
<ul>
<li>Demo (JSON + HTML):</li>
</ul>
<p><code>powershell
python -m rcfd_pcg.cli demo --out results/demo_report.json --html results/demo_report.html</code></p>
<ul>
<li>Single solve from files:</li>
</ul>
<p><code>powershell
python -m rcfd_pcg.cli run --A mm:path/to/matrix.mtx --b vec.npy --out report.json --html report.html</code></p>
<ul>
<li>Doctor:</li>
</ul>
<p><code>powershell
python -m rcfd_pcg.cli doctor --json</code></p>
<h2 id="benchmarks-and-plots">Benchmarks and plots</h2>
<p><code>powershell
python -m rcfd_pcg.suite --n 2000 --d 200 --sparse --eps_list 0.15,0.25 --sketch_dtypes float32 --num_passes_list 1 --threads_list 1 --repeats 1 --out_root results
python -m examples.plot_benchmarks --input results/&lt;printed out_dir&gt; --out plots</code></p>
<h2 id="self-serve-quickstart-no-integration">Self-serve quickstart (no integration)</h2>
<ul>
<li>One-off demo and artifacts:</li>
</ul>
<p><code>powershell
python -m rcfd_pcg.cli demo --out results/demo_report.json --html results/demo_report.html</code></p>
<ul>
<li>Run on your files (Matrix Market/CSR/NumPy):</li>
</ul>
<p><code>powershell
rcfd-pcg run --A mm:path/to/matrix.mtx --b path/to/b.npy --json --out report.json --html report.html</code></p>
<ul>
<li>Recommendation helper (choose parameters automatically):</li>
</ul>
<p><code>powershell
rcfd-pcg --d 200 --sparse --density 0.05 --recommend --json</code></p>
<ul>
<li>Docker (optional, zero-install CPU):</li>
</ul>
<p><code>powershell
docker build -t rcfd-pcg:cpu -f Dockerfile .
docker run --rm -v ${PWD}:/work -w /work rcfd-pcg:cpu ^
  python -m rcfd_pcg.cli demo --out results/demo_report.json --html results/demo_report.html</code></p>
<p>Canonical sparse single-shot vs reuse:</p>
<p><code>powershell
python -m rcfd_pcg.bench --n 20000 --d 200 --sparse --eps 0.25 --tol 1e-6 --repeats 3 --json --out-json results/bench_sparse_single.json
python -m rcfd_pcg.bench --n 20000 --d 200 --sparse --eps 0.25 --tol 1e-6 --repeats 3 --reuse-precond --json --out-json results/bench_sparse_reuse.json</code></p>
<p>Proof-pack summary (JSON + HTML):</p>
<p><code>powershell
python -m examples.proof_pack --results results --out-json results/proof_pack.json --out-html results/proof_pack.html</code></p>
<p>See also <code>docs/ProofPack.md</code> for a detailed runbook and sharing checklist.</p>
<p>Automation shortcut:</p>
<p><code>powershell
python scripts/proof_pack_pipeline.py</code></p>
<h2 id="auto-bail-out-diagnostics">Auto bail-out diagnostics</h2>
<ul>
<li>CLI emits a short notice when the guardrail skips the sketch (stderr in JSON mode so stdout stays machine-readable).</li>
<li>Solver JSON now includes <code>bail_out</code> and <code>bail_out_details</code> (indicator, threshold, dimension) so you can capture it in dashboards.</li>
<li>Tweak the guardrail with <code>--bail-out-threshold</code>; pass <code>--no-bail-out</code> to force sketching when you want to compare end-to-end runs.</li>
</ul>
<h2 id="python-api-sklearn-style">Python API (sklearn-style)</h2>
<p>```python
import pandas as pd
from sklearn.compose import ColumnTransformer
from sklearn.model_selection import GridSearchCV
from sklearn.pipeline import Pipeline
from sklearn.preprocessing import OneHotEncoder, StandardScaler
from rcfd_pcg.sklearn import RCFDRidge</p>
<h1 id="simple-pipeline-with-categorical-numeric-columns">Simple pipeline with categorical + numeric columns</h1>
<p>df = pd.DataFrame({
    "cat": ["a", "b", "a", "c"],
    "num1": [0.1, 1.2, -0.3, 2.4],
    "num2": [5.0, 3.3, 1.1, 0.0],
})
y = [1.0, 0.0, 1.0, 0.0]</p>
<p>pre = ColumnTransformer(
    transformers=[
        ("cat", OneHotEncoder(handle_unknown="ignore", sparse_output=True), ["cat"]),
        ("num", StandardScaler(with_mean=False), ["num1", "num2"]),
    ]
)</p>
<p>pipe = Pipeline([
    ("prep", pre),
    ("model", RCFDRidge(lam=0.0, eps=0.25, tol=1e-6, fit_intercept=False)),
])
pipe.fit(df, y)
print("bail_out?", pipe.named_steps["model"].diagnostics_.get("bail_out"))</p>
<h1 id="optional-cross-validation-tuning-epsilon-and-the-bail-out-threshold">Optional cross-validation tuning epsilon and the bail-out threshold</h1>
<p>search = GridSearchCV(
    pipe,
    param_grid={
        "model__eps": [0.15, 0.25],
        "model__bail_out_threshold": [4.0, 5.0],
    },
    cv=3,
    scoring="neg_mean_squared_error",
    n_jobs=1,
)
search.fit(df, y)
print("best params", search.best_params_)
```</p>
<h2 id="service-optional">Service (optional)</h2>
<p><code>bash
pip install fastapi uvicorn
uvicorn examples.service:app --host 0.0.0.0 --port 8000</code></p>
<h2 id="recommended-defaults">Recommended defaults</h2>
<ul>
<li>Sparse, d 128–512: eps 0.15, randomized compression (oversampling≈12, power=1), threads=2.</li>
<li>Larger d or dense: eps 0.25, oversampling 8–12, power 0–1, threads 1.</li>
<li>Well-conditioned: auto bail-out may skip preconditioning; watch the <code>bail_out</code> flag in JSON output and tune with <code>--bail-out-threshold</code> (or disable via <code>--no-bail-out</code>).</li>
</ul>
<h2 id="links">Links</h2>
<ul>
<li>Cookbook: <code>docs/RegimeCookbook.md</code></li>
<li>Benchmark guide: <code>docs/BenchmarkGuide.md</code></li>
<li>Support matrix: <code>docs/SupportMatrix.md</code></li>
<li>Preconditioner cache: <code>docs/PreconditionerCache.md</code></li>
<li>Threads &amp; BLAS: <code>docs/ThreadsAndBLAS.md</code></li>
<li>Verification: <code>docs/Verification.md</code></li>
<li>Weights/WLS: <code>docs/WeightsWLS.md</code></li>
<li>Colab demo: <code>notebooks/colab_cli_demo.ipynb</code></li>
</ul>
<h3 id="if-stuck">If stuck</h3>
<ul>
<li>Prefer <code>--json</code> everywhere, run the demo and doctor first, consult <code>docs/Troubleshooting.md</code>, then open an issue with <code>doctor --json</code> attached.</li>
</ul></body></html>